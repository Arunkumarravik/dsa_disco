<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solve Problem</title>
    
    <link rel="stylesheet" href="dsa_styles.css">

    <!-- CodeMirror 5 CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/theme/eclipse.min.css">

    <!-- CodeMirror 5 JS -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.15/mode/python/python.min.js"></script>

    <script>
        window.addEventListener("DOMContentLoaded", () => {
            // Initialize empty Python editor
            window.codeEditor = CodeMirror(document.getElementById("code-editor"), {
                value: "",
                mode: "python",
                lineNumbers: true,
                theme: "eclipse"
            });
        });
    </script>

    <script src="dsa_solve_problem_script.js" defer></script>
</head>
<body>
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <button class="menu-toggle" onclick="toggleSidebar()">â˜°</button>
        </div>
        <nav>
            <ul class="sidebar-menu">
                <li class="menu-item active"><a href="dsa_home.html">Home</a></li>
                <li class="menu-item"><a href="dsa_solve_problem.html">Solve Problem</a></li>
                <li class="menu-item"><a href="solved_problems.html">Solved Problems</a></li>
                <li class="menu-item"><a href="problem_list.html">Problems List</a></li>
            </ul>
        </nav>
    </aside>

    <main class="main-content">
        <h1>Solve Problem</h1>

        <label for="problem-type">Select Problem Type:</label>
        <select id="problem-type">
            <option value="book">Book Problem</option>
            <option value="real-world">Real World Scenario</option>
        </select>

        <label for="dsa-topic">Select DSA Topic:</label>
        <select id="dsa-topic">
            <option value="arrays">Arrays</option>
            <option value="linked-list">Linked List</option>
            <option value="stack">Stack</option>
            <option value="queue">Queue</option>
            <option value="trees">Trees</option>
            <option value="graphs">Graphs</option>
            <option value="hashing">Hashing</option>
            <option value="dynamic-programming">Dynamic Programming</option>
            <option value="greedy">Greedy</option>
            <option value="backtracking">Backtracking</option>
        </select>

        <button id="get-problem-btn">Get Problem</button>

        <div id="problem-description" style="border: 1px solid #ccc; padding: 10px; margin-top: 20px;">
            <!-- Backend response will be inserted here -->
        </div>

        <div id="code-editor" style="height: 400px; border: 1px solid #ccc; margin-top: 20px;"></div>

            <!-- Buttons: Run & Submit -->
        <div class="code-buttons" style="margin-top: 10px;">
            <button id="run-code-btn">Run Code</button>
            <button id="submit-code-btn">Submit Code</button>
        </div>

        <!-- Tabs: Sample Test Case / Test Result -->
        <div class="code-tabs" style="margin-top: 20px;">
            <button class="tab-btn active" data-tab="sample-test">Sample Test Case</button>
            <button class="tab-btn" data-tab="test-result">Test Result</button>
        </div>

        <!-- Tab Content -->
        <div class="tab-content">
            <div id="sample-test" class="tab-panel active" style="border:1px solid #ccc; padding:10px; margin-top:10px;">
                <!-- Sample test case will appear here -->
                Sample Test Case Output...
            </div>
            <div id="test-result" class="tab-panel" style="border:1px solid #ccc; padding:10px; margin-top:10px; display:none;">
                <!-- Test result will appear here -->
                Test Result Output...
            </div>
        </div>

    </main>


    <button class="toggle-chat" onclick="togglerightSidebar()">Close Chat</button>
    <div class="right-sidebar" id="chat-sidebar">
        <div class="chat-content">
            <div id="chat-output"></div>
            <input type="text" id="chat-input" placeholder="Ask something...">
            <button id="send-chat">Send</button>
        </div>
    </div>
</body>
</html>
